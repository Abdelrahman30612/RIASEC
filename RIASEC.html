<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>اختبار RIASEC - اختيار الأفعال</title>
  <style>
    :root{--accent:#5b21b6}
    body{font-family: Arial, Helvetica, sans-serif; background:#f7f7fb; color:#111; padding:20px}
    .container{max-width:900px;margin:0 auto;background:#fff;border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(15,23,42,0.08)}
    h1{font-size:22px;margin:0 0 8px}
    p.lead{color:#444;margin-top:0}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:14px}
    .card{border:1px solid #eee;padding:12px;border-radius:10px;background:#fff}
    label.verb{display:flex;align-items:center;gap:10px;padding:6px 4px;border-radius:8px}
    input[type="checkbox"]{width:18px;height:18px}
    footer{display:flex;gap:10px;justify-content:flex-start;margin-top:14px}
    button{background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:8px;cursor:pointer}
    .result{margin-top:18px;padding:12px;border-radius:10px;background:linear-gradient(180deg,#f3f0ff,#fff);font-size:20px;font-weight:bold;text-align:center}
    .small{font-size:13px;color:#666}
  </style>
</head>
<body>
  <div class="container">
    <h1>اختبار RIASEC - اختار الأفعال</h1>
    <p class="lead">كل فعل مربوط بحرف من حروف RIASEC. اختار الأفعال اللي بتنطبق عليك وبعدين اضغط "عرض النتيجة".</p>

    <form id="quiz">
      <div class="grid" id="verbsGrid"></div>

      <footer>
        <button type="button" id="showBtn">عرض النتيجة</button>
        <button type="button" id="resetBtn">إعادة تعيين</button>
        <div class="small">ملاحظة: النتيجة هتطلع أكبر تلاتة أحرف (من الشمال لليمين: الأعلى أولاً)</div>
      </footer>
    </form>

    <div id="resultArea" aria-live="polite"></div>
  </div>

  <script>
    const verbs = [
      {verb: 'تصميم', code: 'A'},
      {verb: 'رسم', code: 'A'},
      {verb: 'عمل تجارب', code: 'I'},
      {verb: 'تجميع أجزاء', code: 'I'},
      {verb: 'مساعدة الناس', code: 'S'},
      {verb: 'التعليم', code: 'S'},
      {verb: 'بيع منتجات', code: 'E'},
      {verb: 'التفاوض', code: 'E'},
      {verb: 'تحليل أرقام', code: 'R'},
      {verb: 'إصلاح آلات', code: 'R'},
      {verb: 'إدارة مشروع', code: 'C'},
      {verb: 'تنظيم ملفات', code: 'C'}
    ];

    const lettersOrder = ['R','I','A','S','E','C'];
    const verbsGrid = document.getElementById('verbsGrid');
    const resultArea = document.getElementById('resultArea');

    verbs.forEach((v, idx) => {
      const card = document.createElement('div'); card.className = 'card';
      const id = 'verb_'+idx;
      card.innerHTML = `
        <label class="verb" for="${id}">
          <input type="checkbox" id="${id}" data-letter="${v.code}" />
          <div style="flex:1">
            <div style="font-weight:700">${v.verb}</div>
          </div>
        </label>
      `;
      verbsGrid.appendChild(card);
    });

    function computeResult(){
      const counts = {R:0,I:0,A:0,S:0,E:0,C:0};
      const checks = document.querySelectorAll('#verbsGrid input[type=checkbox]');
      checks.forEach(ch => { if(ch.checked){ const L=ch.dataset.letter; counts[L] = (counts[L]||0)+1 } });
      const arr = Object.keys(counts).map(k=>({letter:k, count:counts[k]}));
      arr.sort((a,b)=>{
        if(b.count !== a.count) return b.count - a.count;
        return lettersOrder.indexOf(a.letter) - lettersOrder.indexOf(b.letter);
      });
      return arr.slice(0,3).map(t=>t.letter).join('');
    }

    function renderResult(){
      const top3 = computeResult();
      resultArea.innerHTML = `<div class="result">${top3}</div>`;
    }

    document.getElementById('showBtn').addEventListener('click', renderResult);
    document.getElementById('resetBtn').addEventListener('click', () => {
      document.querySelectorAll('#verbsGrid input[type=checkbox]').forEach(x=>x.checked=false);
      resultArea.innerHTML = '';
    });
  </script>
</body>
</html>
